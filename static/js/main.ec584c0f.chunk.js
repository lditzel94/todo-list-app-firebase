(this["webpackJsonptodo-list-app"]=this["webpackJsonptodo-list-app"]||[]).push([[0],{106:function(e,t,a){"use strict";a.r(t);var n=a(13),r=a.n(n),c=a(32),i=a(23),s=a.n(i),o=a(38),l=a(57),u=a(40),j=a(75),d=a(74),b=a(0),m=a.n(b),p=a(150),h=a(141),x=a(143),f=a(53),O=a(144),v=a(138),g=Object(v.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},toolbar:{justifyContent:"space-between"}}})),w=a(30),y=a(52);a(108),a(93);y.a.initializeApp({apiKey:"AIzaSyBEYfjYuvBU_IzZX1lxZMP086bwvjhe_-Y",authDomain:"todo-list-app-firebase-8f8ac.firebaseapp.com",projectId:"todo-list-app-firebase-8f8ac",storageBucket:"todo-list-app-firebase-8f8ac.appspot.com",messagingSenderId:"502708005769",appId:"1:502708005769:web:f7540e176d961f134a0f58"});var k=y.a.auth(),C=y.a.firestore(),N=new y.a.auth.GoogleAuthProvider;N.setCustomParameters({prompt:"select_account"});y.a;var S=function(){var e=Object(o.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C.collection("task").doc(t.text).set({id:t.id,text:t.text,completed:t.completed,uid:t.uid});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.error(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}(),A=a(4);function U(e){var t=e.currentUser,a=g();return Object(A.jsx)("div",{className:a.root,children:Object(A.jsx)(h.a,{position:"static",children:Object(A.jsxs)(x.a,{className:a.toolbar,children:[Object(A.jsx)(O.a,{component:c.b,to:"/",color:"inherit",disableRipple:!0,children:Object(A.jsx)(f.a,{variant:"h6",className:a.title,children:"To do App"})}),t?Object(A.jsx)(O.a,{color:"inherit",onClick:function(){return k.signOut()},children:"Sign out"}):Object(A.jsx)(O.a,{component:c.b,color:"inherit",to:"/signin",children:"Sign in"})]})})})}var W=a(33),F=a(21),I=a(148),P=a(154),D=a(149),E=Object(v.a)((function(e){return{title:{textAlign:"center"}}}));function T(){var e=E();return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(f.a,{color:"primary",className:e.title,variant:"h1",children:"TO DO APP"}),Object(A.jsx)(f.a,{variant:"subtitle1",className:e.title,children:"Hit enter to insert new tasks"})]})}var q=a(145),B=a(146),R=a(155),z=a(147);function G(e){var t=e.data,a=e.changeStatus;return Object(A.jsx)(A.Fragment,{children:Object(A.jsxs)(q.a,{dense:!0,button:!0,onClick:function(){a(t.id,!t.completed)},children:[Object(A.jsx)(B.a,{children:Object(A.jsx)(R.a,{edge:"start",checked:t.completed,tabIndex:-1,disableRipple:!0})}),Object(A.jsx)(z.a,{primary:t.text})]})})}var Y=Object(v.a)((function(e){return{form:{width:"100%"},list:{width:"100%",marginTop:"1em",backgroundColor:e.palette.background.paper}}}));function _(e){var t=e.currentUser,a=Y(),n=t?t.uid:null,r=Object(b.useState)(""),c=Object(F.a)(r,2),i=c[0],s=c[1],o=Object(b.useState)([]),l=Object(F.a)(o,2),u=l[0],j=l[1],d=C.collection("task");function m(e,t){var a=u.map((function(a){return a.id===e?Object(w.a)(Object(w.a)({},a),{},{completed:t}):a}));j(a)}return Object(b.useEffect)((function(){d.where("uid","==",n).onSnapshot((function(e){var t=[];e.forEach((function(e){t.push(e.data())})),j(t)}))}),[]),Object(A.jsx)(A.Fragment,{children:Object(A.jsxs)(I.a,{maxWidth:"md",children:[Object(A.jsx)(T,{}),Object(A.jsx)(P.a,{fullWidth:!0,id:"outlined-basic",label:"New task",variant:"outlined",autoComplete:"off",value:i,onKeyPress:function(e){return"Enter"===e.key?function(e){e.preventDefault(),console.log("Pressed keyCode ".concat(e.key));var a={id:u.length+1,completed:!1,text:e.target.value,uid:t.uid};S(a),j((function(e){return[].concat(Object(W.a)(e),[a])})),s("")}(e):void 0},onChange:function(e){return s(e.target.value)}}),Object(A.jsx)(D.a,{className:a.list,children:u.map((function(e,t){return Object(A.jsx)(G,{data:e,changeStatus:m},t)}))})]})})}var J=a(15),K=a(14),M=a(156),V=a(151),Z=a(152),H=a(153),L=a(61),X=a.n(L),Q=Object(v.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}})),$={email:"",password:""};function ee(){var e=Q(),t=Object(b.useState)($),a=Object(F.a)(t,2),n=a[0],r=a[1],i=function(){var e=Object(o.a)(s.a.mark((function e(t){var a,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=n.email,c=n.password,e.prev=2,e.next=5,k.signInWithEmailAndPassword(a,c);case 5:r($),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}(),l=function(e){var t=e.target,a=t.value,n=t.name;r((function(e){return Object(w.a)(Object(w.a)({},e),{},Object(K.a)({},n,a))}))};return Object(A.jsxs)(I.a,{component:"main",maxWidth:"xs",children:[Object(A.jsx)(p.a,{}),Object(A.jsxs)("div",{className:e.paper,children:[Object(A.jsx)(M.a,{className:e.avatar,children:Object(A.jsx)(X.a,{})}),Object(A.jsx)(f.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(A.jsxs)("form",{className:e.form,noValidate:!0,onSubmit:i,children:[Object(A.jsx)(P.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,onChange:function(e){return l(e)}}),Object(A.jsx)(P.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:function(e){return l(e)}}),Object(A.jsx)(V.a,{control:Object(A.jsx)(R.a,{value:"remember",color:"primary"}),label:"Remember me"}),Object(A.jsx)(O.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,children:"Sign In"}),Object(A.jsxs)(Z.a,{container:!0,children:[Object(A.jsx)(Z.a,{item:!0,xs:!0,children:Object(A.jsx)(H.a,{href:"#",variant:"body2",children:"Forgot password?"})}),Object(A.jsx)(Z.a,{item:!0,children:Object(A.jsx)(H.a,{component:c.b,to:"/signup",variant:"body2",children:"Don't have an account? Sign Up"})})]})]})]})]})}var te=Object(v.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}})),ae={firstName:"",lastName:"",email:"",password:""};function ne(){var e=te(),t=Object(b.useState)(ae),a=Object(F.a)(t,2),n=a[0],r=a[1],i=function(){var e=Object(o.a)(s.a.mark((function e(t){var a,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=n.email,c=n.password,e.prev=2,e.next=5,k.createUserWithEmailAndPassword(a,c);case 5:r(ae),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}(),l=function(e){var t=e.target,a=t.value,n=t.name;r((function(e){return Object(w.a)(Object(w.a)({},e),{},Object(K.a)({},n,a))}))};return Object(A.jsxs)(I.a,{component:"main",maxWidth:"xs",children:[Object(A.jsx)(p.a,{}),Object(A.jsxs)("div",{className:e.paper,children:[Object(A.jsx)(M.a,{className:e.avatar,children:Object(A.jsx)(X.a,{})}),Object(A.jsx)(f.a,{component:"h1",variant:"h5",children:"Sign up"}),Object(A.jsxs)("form",{className:e.form,noValidate:!0,onSubmit:i,children:[Object(A.jsxs)(Z.a,{container:!0,spacing:2,children:[Object(A.jsx)(Z.a,{item:!0,xs:12,sm:6,children:Object(A.jsx)(P.a,{autoComplete:"fname",name:"firstName",variant:"outlined",required:!0,fullWidth:!0,id:"firstName",label:"First Name",autoFocus:!0,onChange:function(e){return l(e)}})}),Object(A.jsx)(Z.a,{item:!0,xs:12,sm:6,children:Object(A.jsx)(P.a,{variant:"outlined",required:!0,fullWidth:!0,id:"lastName",label:"Last Name",name:"lastName",autoComplete:"lname",onChange:function(e){return l(e)}})}),Object(A.jsx)(Z.a,{item:!0,xs:12,children:Object(A.jsx)(P.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",onChange:function(e){return l(e)}})}),Object(A.jsx)(Z.a,{item:!0,xs:12,children:Object(A.jsx)(P.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:function(e){return l(e)}})})]}),Object(A.jsx)(O.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,children:"Sign Up"}),Object(A.jsx)(Z.a,{container:!0,justifyContent:"center",children:Object(A.jsx)(Z.a,{item:!0,children:Object(A.jsx)(H.a,{component:c.b,to:"/signin",variant:"body2",children:"Already have an account? Sign in"})})})]})]})]})}var re=function(e){Object(j.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).unsubscribeFromAuth=null,e.state={currentUser:null},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.unsubscribeFromAuth=k.onAuthStateChanged(function(){var t=Object(o.a)(s.a.mark((function t(a){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({currentUser:a});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"componentWillUnmount",value:function(){this.unsubscribeFromAuth()}},{key:"render",value:function(){return console.log(this.state),Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(p.a,{}),Object(A.jsx)(U,{currentUser:this.state.currentUser}),Object(A.jsxs)(J.d,{children:[Object(A.jsx)(J.b,{exact:!0,path:"/",children:this.state.currentUser?Object(A.jsx)(_,{currentUser:this.state.currentUser}):Object(A.jsx)("div",{style:{textAlign:"center"},children:Object(A.jsx)("h1",{children:"Sign in to start"})})}),Object(A.jsx)(J.b,{path:"/signin",children:this.state.currentUser?Object(A.jsx)(J.a,{to:"/"}):Object(A.jsx)(ee,{})}),Object(A.jsx)(J.b,{path:"/signup",children:this.state.currentUser?Object(A.jsx)(J.a,{to:"/"}):Object(A.jsx)(ne,{})})]})]})}}]),a}(m.a.Component);r.a.render(Object(A.jsx)(c.a,{children:Object(A.jsx)(re,{})}),document.getElementById("root"))}},[[106,1,2]]]);
//# sourceMappingURL=main.ec584c0f.chunk.js.map